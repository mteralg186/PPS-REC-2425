<%- include('partes/header') %>

<div class="container mt-5">
  <h2 class="text-center mb-4"><%= title %></h2>

  <% if (alumnos.length === 0) { %>
    <p class="text-center text-muted">No tienes alumnos asignados aún.</p>
  <% } else { %>
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>Nombre</th>
            <th>Usuario</th>
            <th>Clase</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <% alumnos.forEach(alumno => { %>
            <tr>
              <td><%= alumno.nombre %> <%= alumno.apellido %></td>
              <td><%= alumno.username %></td>
              <td><%= alumno.nombre_clase %></td>
              <td>
                <form method="POST" action="/gestionar-alumnos/eliminar" onsubmit="return confirm('¿Estás seguro que deseas eliminar a este alumno de la clase?');">
                  <input type="hidden" name="id_alumno" value="<%= alumno.id_alumno %>">
                  <input type="hidden" name="id_clase" value="<%= alumno.id_clase %>">
                  <button class="btn btn-sm btn-danger" type="submit">Eliminar</button>
                </form>
              </td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  <% } %>
</div>

<%- include('partes/footer') %>
