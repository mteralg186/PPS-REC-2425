<%- include('partes/header') %>

<div class="container mt-5">
  <h2 class="text-center mb-4"><%= title %></h2>

  <% if (typeof mensaje !== 'undefined' && mensaje && mensaje.length > 0) { %>
    <div class="alert alert-danger text-center">
      <%= mensaje %>
    </div>
  <% } %>

  <% if (resultados && resultados.length === 0) { %>
    <p class="text-center text-muted">No hay exámenes realizados aún.</p>
  <% } else if (resultados && resultados.length > 0) { %>
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>Alumno</th>
            <th>Examen</th>
            <th>Nota</th>
            <th>Aprobado</th>
            <th>Fecha</th>
          </tr>
        </thead>
        <tbody>
          <% resultados.forEach(examen => { %>
            <tr>
              <td><%= examen.nombre_alumno %></td>
              <td><%= examen.nombre_examen %></td>
              <td><%= examen.nota %></td>
              <td>
                <span class="badge <%= examen.aprobado ? 'bg-success' : 'bg-danger' %>">
                  <%= examen.aprobado ? 'Sí' : 'No' %>
                </span>
              </td>
              <td><%= new Date(examen.fecha).toLocaleString() %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  <% } else { %>
    <p class="text-center text-muted">No hay datos disponibles.</p>
  <% } %>
</div>

<%- include('partes/footer') %>
